<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logo Game</title>

    <link href="styles/logo_game.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1>Logo Game</h1>
    <h3>Type in the correct name of the logo. Press enter to check your answer!</h3>
    <br>

    <div class="image-space">
        <img class="logo-image" src="images/logos/adobe.png">
    </div>

    <h4>What is this logo?</h4>
    <input class="center-block" type="text">

    <p></p>
    <button class="next">Next</button>

    <script>
        let listofLogos = ["adobe", "bic", "dove", "firefox", "pepsi", "target", "warner_bros"];
        let logoAnswers = ["adobe", "bic", "dove", "firefox", "pepsi", "target", "warner bros"];
        
        let logoPic = document.querySelector(".logo-image");
        let userAnswer = document.querySelector("input");
        let index = 0;
        let answerStatus = document.querySelector("p");

        userAnswer.addEventListener("keyup", handleKeyUp);
        userAnswer.focus();

        function checkAnswer() {
            if ((userAnswer.value).toLowerCase() === logoAnswers[index]) {
                answerStatus.textContent = "Correct!";
                answerStatus.style.color = "green";

                userAnswer.setAttribute('disabled', true);
                nextButton.removeAttribute('disabled');
            }
            else {
                answerStatus.textContent = "Wrong.";
                answerStatus.style.color = "red";
            }
            userAnswer.value = "";
        }

        function handleKeyUp(event) {
            if (event.key === "Enter") {
                checkAnswer();
            }
        }

        
        let nextButton = document.querySelector("button");
        nextButton.setAttribute('disabled', true);

        nextButton.addEventListener("click", function(event) {
            index++;

            if (index < listofLogos.length) {
                let logoPic = document.querySelector(".logo-image");
                let logoName = listofLogos[index];
                logoPic.src = "images/logos/" + logoName + ".png";

                answerStatus.textContent = "";
                userAnswer.removeAttribute('disabled');
                userAnswer.focus();

                nextButton.setAttribute('disabled', true);
            }
            else {
                finishedGame();
            }
        });

        function finishedGame() {
            let image = document.querySelector(".logo-image");
            image.src = "images/congratulations.jpg";

            let directions = document.querySelector("h3");
            directions.textContent = "Congratulations, you won!";
            directions.style.color = "blue";

            let question = document.querySelector("h4");
            question.textContent = "";

            userAnswer.setAttribute('disabled', true);
            answerStatus.textContent = "";
            nextButton.setAttribute('disabled', true);
        }

    </script>
</body>
</html>